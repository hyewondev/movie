(this["webpackJsonptvo-movie"]=this["webpackJsonptvo-movie"]||[]).push([[0],{42:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var a=s(4),n=s.n(a),i=s(34),l=s.n(i),r=(s(42),s(14)),c=s(59),o=s(60),d=s(62),m=new o.a({uri:"https://tmdb.apps.quintero.io/",cache:new d.a}),b=s(29),j=s(2);var x=function(e){var t=Object(a.useState)(""),s=Object(r.a)(t,2),n=s[0],i=s[1];function l(t){e.setTerm(n),t.preventDefault()}return Object(j.jsxs)("header",{className:"fixed w-full top-0 bg-mv-main text-white py-7 shadow-lg",children:[Object(j.jsx)("div",{className:"skip-to-main",children:Object(j.jsx)("a",{href:"#main-content",children:"Skip to main content"})}),Object(j.jsx)("div",{className:"container mx-auto font-md space-x-4 px-3",children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"flex-1 text-3xl",children:"Movies"}),Object(j.jsxs)("div",{className:"flex-2 flex items-center",children:[Object(j.jsx)("div",{className:"flex",children:Object(j.jsx)("input",{className:"px-2 py-1 rounded-sm text-gray-800 text-sm w-48 sm:w-64 md:w-96",type:"text",id:"edit-search",name:"search",onChange:function(e){i(e.target.value),e.preventDefault()},onKeyPress:function(e){"Enter"===e.key&&l(e)},maxLength:"50",required:"required","aria-required":"true",autoComplete:"off",focusable:"true","aria-labelledby":"search-label search-label-sm"})}),Object(j.jsx)("div",{className:"flex pl-2",children:Object(j.jsx)("button",{"data-selector":"edit-submit",className:"text-white text-xl",type:"submit",id:"search-submit",name:"search-submit",value:"Search",onClick:l,"aria-label":"search button",children:Object(j.jsx)(b.a,{focusable:"false",title:"search button"})})}),Object(j.jsxs)("div",{className:"absolute bottom-3 text-sm pl-1",children:[Object(j.jsx)("label",{id:"search-label",className:"hidden sm:block",children:"What are you looking for? (ex: world, home)"}),Object(j.jsx)("label",{id:"search-label-sm",className:"block sm:hidden",children:"Keyword (ex: world, home)"})]})]})]})})]})},u=s(37),h=s(63),v=s(31),g=s.n(v),O=s(12),f=function(e){for(var t=e.rating/2,s=new Array(5),a=0;a<parseInt(t);)s[a]=Object(j.jsx)(O.c,{className:"mx-1 w-5 h-5 fill-current text-yellow-500",role:"img",title:"a star",focusable:"false","aria-labelledby":"rating_".concat(e.id)}),a++;if(5>a&&(s[a]=t%1*10<3?Object(j.jsx)(O.d,{className:"mx-1 w-5 h-5 fill-current text-yellow-500",role:"img",title:"empty star",focusable:"false","aria-labelledby":"rating_".concat(e.id)}):Object(j.jsx)(O.e,{className:"mx-1 w-5 h-5 fill-current text-yellow-500",role:"img",title:"half star",focusable:"false","aria-labelledby":"rating_".concat(e.id)}),a++),5>a)for(var n=a;n<5;n++)s[n]=Object(j.jsx)(O.d,{className:"mx-1 w-5 h-5 fill-current text-yellow-500",role:"img",title:"empty star",focusable:"false","aria-labelledby":"rating_".concat(e.id)});return Object(j.jsx)("div",{className:"flex justify-center items-center",children:Object(j.jsx)("div",{className:"flex items-center mb-1",id:"rating_".concat(e.id),children:s.map((function(t,s){return Object(j.jsx)("span",{children:t},"".concat(e.id,"_").concat(s))}))})})},p=function(e){return Object(j.jsx)(j.Fragment,{children:e.posters.length>0?Object(j.jsx)("img",{src:e.posters[0].image,alt:e.title,className:"rounded-t-lg w-full h-52 sm:h-52 md:h-72 cursor-pointer",onClick:e.openDetail}):Object(j.jsx)("div",{className:"bg-gray-100 text-center pt-20 sm:pt-28 rounded-t-lg w-full h-52 sm:h-52 md:h-72 cursor-pointer text-gray-500",onClick:e.openDetail,children:Object(j.jsx)("span",{id:"image_".concat(e.id),children:"No Image"})})})};var w,y,N=function(e){var t=e.data.node;function s(s){e.setMovieId(t.id),e.setShowDetail(!0),e.setTitle("".concat(t.title," (").concat(g()(t.releaseDate).format("YYYY"),")")),s.preventDefault()}return Object(j.jsxs)("div",{className:"border border-gray-300 rounded-lg shadow-md",children:[Object(j.jsx)(p,{posters:t.images.posters,title:t.title,id:t.id,openDetail:s}),Object(j.jsxs)("div",{className:"px-2 pt-2 pb-4",children:[Object(j.jsx)(f,{rating:t.rating,id:t.id}),Object(j.jsx)("p",{className:"font-bold text-base leading-5 mb-1 cursor-pointer hover:text-mv-main sm:text-lg sm:leading-6",onClick:s,children:t.title}),Object(j.jsx)("p",{className:"text-gray-700 text-sm",children:g()(t.releaseDate).format("YYYY-MM-DD")})]})]})},k=function(){var e="h-4 w-4 m-2 bg-mv-main rounded-full";return Object(j.jsxs)("div",{className:"flex p-4",children:[Object(j.jsx)("div",{className:"".concat(e," mr-1 animate-bounce")}),Object(j.jsx)("div",{className:"".concat(e," mr-1 animate-bounce200")}),Object(j.jsx)("div",{className:"".concat(e," animate-bounce400")})]})},D=function(e){return Object(j.jsxs)("div",{className:"py-4 border-0 rounded relative mx-2 sm:mx-0 my-7 border text-center text-mv-main",children:[Object(j.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(j.jsx)(O.b,{role:"img",focusable:"false","aria-labelledby":"message",title:"warning"})}),Object(j.jsx)("div",{className:"inline-block align-middle mr-8",id:"message",children:e.message})]})},S=s(26),I=s(61),C=Object(I.a)(w||(w=Object(S.a)(["\n    query ($term: String){\n      movies {\n        search(\n          first: 10\n          term: $term\n        ) {\n          edges {\n            node {\n              id\n              title\n              releaseDate\n              rating\n              images {\n                posters {\n                  width\n                  height\n                  image(size: W154)\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n"]))),_=function(e){return Object(j.jsx)("div",{className:"flex flex-wrap",children:e.keywords.map((function(e,t){return Object(j.jsx)("div",{className:"border border-gray-300 rounded-lg text-center text-xs shadow-md p-1 mr-1 mb-2",children:e.name},"".concat(e.id,"_").concat(t))}))})},Y=function(e){return Object(j.jsx)("div",{children:e.value.length?Object(j.jsxs)("div",{className:"mb-1 text-sm sm:text-base",children:[Object(j.jsxs)("span",{className:"font-bold",children:[e.title,": "]}),Object(j.jsx)("span",{className:"text-gray-700",children:Array.isArray(e.value)?Object(j.jsx)(_,{keywords:e.value}):e.value})]}):""})},M=Object(I.a)(y||(y=Object(S.a)(["\n    query ($id: String) {\n      movies {\n        movie(id: $id) {\n          id\n          title\n          releaseDate\n          rating\n          runtime\n          overview,\n          keywords{\n            id,\n            name\n          }\n          genres{\n            id,\n            name\n          }\n          images {\n            posters {\n              width\n              height\n              image(size: W154)\n            }\n          }\n          spokenLanguages {\n            iso639_1\n            name\n          }\n        }\n      }\n    }\n"])));function q(e){var t=Object(h.a)(M,{variables:{id:e.movieId}}),s=t.loading,a=t.error,n=t.data;return Object(j.jsx)(j.Fragment,{children:e.showDetail?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"justify-center items-top flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 mx-4 outline-none focus:outline-none sm:mx-8",children:Object(j.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(j.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(j.jsxs)("div",{className:"flex items-start justify-between py-4 px-6 border-b border-solid border-blueGray-200 rounded-t",children:[Object(j.jsx)("h2",{className:"text-3xl font-semibold mr-2",children:e.title}),Object(j.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black float-right text-3xl text-gray-600 leading-none font-semibold outline-none focus:outline-none",id:"close","aria-label":"close button",role:"button",onClick:function(){return e.setShowDetail(!1)},children:Object(j.jsx)(O.a,{role:"img",title:"close button",focusable:"false","aria-labelledby":"close"})})]}),s?Object(j.jsx)(k,{}):a?Object(j.jsx)(D,{message:a.message}):e.movieId?Object(j.jsxs)("div",{className:"px-8 py-5",children:[Object(j.jsxs)("div",{className:"sm:flex",children:[Object(j.jsx)("div",{className:"w-48 mx-auto mb-3 sm:w-2/6 sm:mb-0",children:Object(j.jsx)(p,{posters:n.movies.movie.images.posters,title:n.movies.movie.title,id:n.movies.movie.id,openDetail:function(){}})}),Object(j.jsx)("div",{className:"sm:ml-6 sm:w-4/6 flex-auto",children:Object(j.jsxs)("div",{className:"py-1 text-blueGray-500 text-lg leading-relaxed",children:[Object(j.jsx)(Y,{title:"Running Time",value:function(e){if(0===e)return e;var t=parseInt(e/60),s=e%60;return t?"".concat(t,"h ").concat(s,"m"):"".concat(s,"m")}(n.movies.movie.runtime)}),Object(j.jsx)(Y,{title:"Languages",value:n.movies.movie.spokenLanguages}),Object(j.jsx)(Y,{title:"Genres",value:n.movies.movie.genres}),Object(j.jsx)(Y,{title:"Keywords",value:n.movies.movie.keywords})]})})]}),Object(j.jsxs)("div",{className:"block my-4",children:[Object(j.jsx)("div",{className:"text-lg font-bold",children:"Overview"}),Object(j.jsx)("p",{className:"text-sm text-gray-700",children:n.movies.movie.overview})]})]}):"",Object(j.jsx)("div",{className:"flex items-center justify-end p-2 border-t border-solid border-blueGray-200 rounded-b",children:Object(j.jsx)("button",{className:"text-mv-main background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return e.setShowDetail(!1)},children:"Close"})})]})})}),Object(j.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null})}var T=function(e){var t=Object(a.useState)(!1),s=Object(r.a)(t,2),n=s[0],i=s[1],l=Object(a.useState)(""),c=Object(r.a)(l,2),o=c[0],d=c[1],m=Object(a.useState)(""),b=Object(r.a)(m,2),x=b[0],v=b[1],g=Object(h.a)(C,{variables:{term:e.term}}),O=g.loading,f=g.error,p=g.data;if(O)return Object(j.jsx)(k,{});if(f)return Object(j.jsx)(D,{message:f.message});if(p.movies.search.edges.length>0){var w=Object(u.a)(p.movies.search.edges).sort((function(e,t){return new Date(t.node.releaseDate)-new Date(e.node.releaseDate)}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-9 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:w.map((function(e,t){return Object(j.jsx)(N,{data:e,setMovieId:d,setShowDetail:i,setTitle:v},t)}))}),o?Object(j.jsx)(q,{movieId:o,setMovieId:d,showDetail:n,setShowDetail:i,title:x}):""]})}return Object(j.jsx)(D,{message:"There is no result"})};var F=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),s=t[0],n=t[1];return Object(j.jsx)(c.a,{client:m,children:Object(j.jsxs)("div",{className:"w-full",children:[Object(j.jsx)(x,{setTerm:n}),Object(j.jsx)("section",{className:"mt-28 mb-20",role:"main",id:"main-content",tabIndex:"-1",children:Object(j.jsx)("div",{className:"container mx-auto px-3",children:""===s?Object(j.jsx)(D,{message:"Please enter keyword that you are looking for."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h1",{className:"text-2xl mb-5",children:["Results of '",s,"'"]}),Object(j.jsx)(T,{term:s})]})})})]})})};l.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.0f259b25.chunk.js.map